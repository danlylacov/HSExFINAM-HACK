# Price Prediction API - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±—É—á–µ–Ω–∏—é

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
3. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–¥–∞–Ω–Ω—ã—Ö)
4. [–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ API](#–æ–±—É—á–µ–Ω–∏–µ-–º–æ–¥–µ–ª–∏-—á–µ—Ä–µ–∑-api)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–±—É—á–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤-–æ–±—É—á–µ–Ω–∏—è)
6. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–≤–∞–ª–∏–¥–∞—Ü–∏—è)
7. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
8. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

API –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ü–µ–Ω –∞–∫—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω—Å–∞–º–±–ª—å –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ 5 –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤:
- **Random Forest** - —Å–ª—É—á–∞–π–Ω—ã–π –ª–µ—Å
- **Gradient Boosting** - –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –±—É—Å—Ç–∏–Ω–≥
- **Extra Trees** - —ç–∫—Å—Ç—Ä–∞ –¥–µ—Ä–µ–≤—å—è
- **Ridge Regression** - —Ä–∏–¥–∂ —Ä–µ–≥—Ä–µ—Å—Å–∏—è
- **Lasso Regression** - –ª–∞—Å—Å–æ —Ä–µ–≥—Ä–µ—Å—Å–∏—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏ –æ–±—É—á–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (open, high, low, close, volume).

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd row_price2

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip3 install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
python3 main.py
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8009

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl -X GET "http://localhost:8009/health"
```

## üìä –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

API –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö CSV –∏–ª–∏ JSON. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:
- `ticker` - —Ç–∏–∫–µ—Ä –∞–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∞)
- `date` –∏–ª–∏ `begin` - –¥–∞—Ç–∞ (YYYY-MM-DD)
- `open`, `high`, `low`, `close` - —Ü–µ–Ω—ã OHLC
- `volume` - –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤

#### –ù–æ–≤–æ—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- `nn_news_sum` - —Å—É–º–º–∞ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
- `nn_news_mean` - —Å—Ä–µ–¥–Ω–µ–µ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
- `nn_news_max` - –º–∞–∫—Å–∏–º—É–º –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
- `nn_news_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π

#### –°–µ–Ω—Ç–∏–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑:
- `sentiment_mean` - —Å—Ä–µ–¥–Ω–∏–π —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç
- `sentiment_sum` - —Å—É–º–º–∞ —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç–æ–≤
- `sentiment_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç–æ–≤
- `sentiment_positive_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö
- `sentiment_negative_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö
- `sentiment_neutral_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã—Ö

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
- `rsi` - –∏–Ω–¥–µ–∫—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã
- `macd` - MACD –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
- `cci` - Commodity Channel Index
- `ema9` - —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è (9)
- `ema50` - —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è (50)

#### –°–≤–µ—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
- `areThreeWhiteSoldiers` - —Ç—Ä–∏ –±–µ–ª—ã—Ö —Å–æ–ª–¥–∞—Ç–∞
- `areThreeBlackCrows` - —Ç—Ä–∏ —á–µ—Ä–Ω—ã—Ö –≤–æ—Ä–æ–Ω–∞
- `doji` - –¥–æ–¥–∂–∏
- `bearishEngulfing` - –º–µ–¥–≤–µ–∂–∏–π –ø–æ–≥–ª–æ—â–∞—é—â–∏–π
- `bullishEngulfing` - –±—ã—á–∏–π –ø–æ–≥–ª–æ—â–∞—é—â–∏–π

### –ü—Ä–∏–º–µ—Ä CSV —Ñ–∞–π–ª–∞:

```csv
ticker,begin,nn_news_sum,nn_news_mean,nn_news_max,nn_news_count,sentiment_mean,sentiment_sum,sentiment_count,sentiment_positive_count,sentiment_negative_count,sentiment_neutral_count,rsi,macd,cci,ema9,ema50,areThreeWhiteSoldiers,areThreeBlackCrows,doji,bearishEngulfing,bullishEngulfing,open,high,low,close,volume
AFLT,2025-01-01,1.2,0.03,0.18,43,0.5,20.0,40,20,10,10,50.0,0.5,0.0,100.0,100.0,0,0,0,0,0,100.0,105.0,95.0,102.0,1000000
AFLT,2025-01-02,1.1,0.025,0.15,44,0.6,26.4,44,25,8,11,55.0,0.6,5.0,101.0,100.5,0,0,0,0,0,102.0,108.0,98.0,105.0,1200000
```

## üéì –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ API

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–∞
curl -X POST "http://localhost:8009/upload-data" \
  -F "file=@your_data.csv"

# –ó–∞–≥—Ä—É–∑–∫–∞ JSON —Ñ–∞–π–ª–∞
curl -X POST "http://localhost:8009/upload-data" \
  -F "file=@your_data.json"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "success",
  "message": "–§–∞–π–ª your_data.csv —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω",
  "filename": "your_data.csv",
  "rows_count": 100,
  "columns_count": 27,
  "columns": ["ticker", "begin", "nn_news_sum", ...]
}
```

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```bash
curl -X GET "http://localhost:8009/training-config"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "default_config": {
    "train_size": 25,
    "test_size": null,
    "rf_n_estimators": 200,
    "rf_max_depth": 15,
    "rf_min_samples_split": 5,
    "rf_min_samples_leaf": 2,
    "gb_n_estimators": 200,
    "gb_learning_rate": 0.1,
    "gb_max_depth": 6,
    "gb_min_samples_split": 5,
    "et_n_estimators": 150,
    "et_max_depth": 15,
    "et_min_samples_split": 5,
    "ridge_alpha": 1.0,
    "lasso_alpha": 0.1,
    "lasso_max_iter": 2000,
    "ensemble_weights": [3, 3, 2, 1, 1],
    "cv_splits": 5,
    "feature_selection_threshold": "median",
    "feature_selection_n_estimators": 50
  },
  "description": {
    "train_size": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è –æ–±—É—á–µ–Ω–∏—è",
    "test_size": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (None = –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ)",
    "rf_n_estimators": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ä–µ–≤—å–µ–≤ –≤ Random Forest",
    "rf_max_depth": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –¥–µ—Ä–µ–≤—å–µ–≤ –≤ Random Forest",
    "gb_n_estimators": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ä–µ–≤—å–µ–≤ –≤ Gradient Boosting",
    "gb_learning_rate": "–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –≤ Gradient Boosting",
    "ensemble_weights": "–í–µ—Å–∞ –¥–ª—è –∞–Ω—Å–∞–º–±–ª—è [RF, GB, ET, Ridge, Lasso]",
    "cv_splits": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ–ª–¥–æ–≤ –¥–ª—è –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏"
  }
}
```

### –®–∞–≥ 3: –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

```bash
# –û–±—É—á–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
curl -X POST "http://localhost:8009/train" \
  -F "filename=your_data.csv" \
  -F 'config={}'

# –û–±—É—á–µ–Ω–∏–µ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
curl -X POST "http://localhost:8009/train" \
  -F "filename=your_data.csv" \
  -F 'config={"train_size": 50, "rf_n_estimators": 100, "ensemble_weights": [2,2,1,1,1]}'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "success",
  "message": "–û–±—É—á–µ–Ω–æ 5 –º–æ–¥–µ–ª–µ–π",
  "models_trained": ["open", "high", "low", "close", "volume"],
  "training_metrics": {
    "open": {
      "cv_mae_mean": 9.5741,
      "cv_mae_std": 2.1974,
      "selected_features": 25,
      "total_features": 50
    },
    "high": {
      "cv_mae_mean": 8.9068,
      "cv_mae_std": 2.1640,
      "selected_features": 25,
      "total_features": 50
    },
    "low": {
      "cv_mae_mean": 8.6359,
      "cv_mae_std": 3.2213,
      "selected_features": 25,
      "total_features": 50
    },
    "close": {
      "cv_mae_mean": 8.1611,
      "cv_mae_std": 1.1316,
      "selected_features": 25,
      "total_features": 50
    },
    "volume": {
      "cv_mae_mean": 350541.6966,
      "cv_mae_std": 86300.5552,
      "selected_features": 25,
      "total_features": 50
    }
  },
  "feature_count": 50,
  "selected_features_count": 25
}
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–±—É—á–µ–Ω–∏—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

```json
{
  "train_size": 30,        // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
  "test_size": 20         // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (null = –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ)
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Random Forest

```json
{
  "rf_n_estimators": 200,      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ä–µ–≤—å–µ–≤
  "rf_max_depth": 15,          // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞
  "rf_min_samples_split": 5,   // –ú–∏–Ω–∏–º—É–º –æ–±—Ä–∞–∑—Ü–æ–≤ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
  "rf_min_samples_leaf": 2     // –ú–∏–Ω–∏–º—É–º –æ–±—Ä–∞–∑—Ü–æ–≤ –≤ –ª–∏—Å—Ç–µ
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Gradient Boosting

```json
{
  "gb_n_estimators": 200,      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ä–µ–≤—å–µ–≤
  "gb_learning_rate": 0.1,    // –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è
  "gb_max_depth": 6,           // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞
  "gb_min_samples_split": 5    // –ú–∏–Ω–∏–º—É–º –æ–±—Ä–∞–∑—Ü–æ–≤ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Extra Trees

```json
{
  "et_n_estimators": 150,      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ä–µ–≤—å–µ–≤
  "et_max_depth": 15,          // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞
  "et_min_samples_split": 5    // –ú–∏–Ω–∏–º—É–º –æ–±—Ä–∞–∑—Ü–æ–≤ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–∏–Ω–µ–π–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

```json
{
  "ridge_alpha": 1.0,          // –†–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è Ridge
  "lasso_alpha": 0.1,          // –†–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è Lasso
  "lasso_max_iter": 2000       // –ú–∞–∫—Å–∏–º—É–º –∏—Ç–µ—Ä–∞—Ü–∏–π –¥–ª—è Lasso
}
```

### –í–µ—Å–∞ –∞–Ω—Å–∞–º–±–ª—è

```json
{
  "ensemble_weights": [3, 3, 2, 1, 1]  // [RF, GB, ET, Ridge, Lasso]
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

```json
{
  "cv_splits": 5,                        // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ–ª–¥–æ–≤ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏
  "feature_selection_threshold": "median", // –ü–æ—Ä–æ–≥ –æ—Ç–±–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
  "feature_selection_n_estimators": 50    // –î–µ—Ä–µ–≤—å—è –¥–ª—è –æ—Ç–±–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
}
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:

- **CV MAE Mean** - —Å—Ä–µ–¥–Ω—è—è –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –Ω–∞ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **CV MAE Std** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—à–∏–±–∫–∏
- **Selected Features** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- **Total Features** - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫

- **–ù–∏–∑–∫–∏–π CV MAE** - –º–æ–¥–µ–ª—å —Ö–æ—Ä–æ—à–æ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç
- **–ù–∏–∑–∫–æ–µ CV MAE Std** - —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
- **–í—ã—Å–æ–∫–∏–π Selected Features** - –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
curl -X GET "http://localhost:8009/health"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "healthy",
  "models_loaded": 5,
  "available_targets": ["open", "high", "low", "close", "volume"]
}
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë—ã—Å—Ç—Ä–æ–µ –æ–±—É—á–µ–Ω–∏–µ

```bash
#!/bin/bash

# 1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
curl -X POST "http://localhost:8009/upload-data" \
  -F "file=@stock_data.csv"

# 2. –û–±—É—á–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
curl -X POST "http://localhost:8009/train" \
  -F "filename=stock_data.csv" \
  -F 'config={}'

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl -X GET "http://localhost:8009/health"
```

### –ü—Ä–∏–º–µ—Ä 2: –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
#!/bin/bash

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
CONFIG='{
  "train_size": 100,
  "test_size": 50,
  "rf_n_estimators": 500,
  "rf_max_depth": 20,
  "gb_n_estimators": 300,
  "gb_learning_rate": 0.05,
  "ensemble_weights": [4, 4, 2, 1, 1],
  "cv_splits": 10
}'

# –û–±—É—á–µ–Ω–∏–µ —Å —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π
curl -X POST "http://localhost:8009/train" \
  -F "filename=stock_data.csv" \
  -F "config=$CONFIG"
```

### –ü—Ä–∏–º–µ—Ä 3: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

```bash
#!/bin/bash

# –†–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
configs=(
  '{"train_size": 30, "rf_n_estimators": 50, "ensemble_weights": [1,1,1,1,1]}'
  '{"train_size": 50, "rf_n_estimators": 100, "ensemble_weights": [2,2,1,1,1]}'
  '{"train_size": 80, "rf_n_estimators": 200, "ensemble_weights": [3,3,2,1,1]}'
)

for i in "${!configs[@]}"; do
  echo "–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç $((i+1)):"
  curl -X POST "http://localhost:8009/train" \
    -F "filename=stock_data.csv" \
    -F "config=${configs[$i]}"
  echo ""
done
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
curl -X GET "http://localhost:8009/data-files"

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
curl -X POST "http://localhost:8009/upload-data" \
  -F "file=@your_data.csv"
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JSON —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
echo '{"train_size": 30}' | python3 -m json.tool

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ bash
curl -X POST "http://localhost:8009/train" \
  -F "filename=data.csv" \
  -F 'config={"train_size": 30}'
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–ú–æ–¥–µ–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
pkill -f "python3 main.py"
python3 main.py

# –ò–ª–∏ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª–∏
curl -X POST "http://localhost:8009/train" \
  -F "filename=data.csv" \
  -F 'config={}'
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π

**–†–µ—à–µ–Ω–∏—è:**
1. **–£–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–∏:**
   ```json
   {"train_size": 100}
   ```

2. **–£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ä–µ–≤—å–µ–≤:**
   ```json
   {"rf_n_estimators": 500, "gb_n_estimators": 300}
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ—Å–∞ –∞–Ω—Å–∞–º–±–ª—è:**
   ```json
   {"ensemble_weights": [4, 4, 2, 1, 1]}
   ```

4. **–£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ–ª–¥–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
   ```json
   {"cv_splits": 10}
   ```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
curl -X GET "http://localhost:8009/data-files"

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API
curl -X GET "http://localhost:8009/docs"

# –ü–æ–ª—É—á–µ–Ω–∏–µ OpenAPI —Å—Ö–µ–º—ã
curl -X GET "http://localhost:8009/openapi.json"
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±—É—á–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞. –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:
- `"–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è {target}..."`
- `"–ú–æ–¥–µ–ª—å –¥–ª—è {target} –æ–±—É—á–µ–Ω–∞. CV MAE: {score}"`
- `"–ó–∞–≥—Ä—É–∂–µ–Ω–æ {count} –º–æ–¥–µ–ª–µ–π"`

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è:**
   ```json
   {
     "train_size": 30,
     "rf_n_estimators": 50,
     "gb_n_estimators": 50,
     "cv_splits": 3
   }
   ```

2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:**
   ```json
   {
     "train_size": 200,
     "rf_n_estimators": 500,
     "gb_n_estimators": 300,
     "cv_splits": 10
   }
   ```

3. **–î–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
   ```json
   {
     "train_size": 100,
     "rf_n_estimators": 200,
     "gb_n_estimators": 200,
     "cv_splits": 5
   }
   ```

---

**–£–¥–∞—á–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è! üöÄ**
